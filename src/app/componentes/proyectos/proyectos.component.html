<div class="card mat-card">
  <h2 id="proyectos" class="mb-2">Proyectos
    <button class="btn btn-edit btn-lg d-inline mx-2" *ngIf="autenticacionServicio.isLoggedIn()"
      (click)="mostrarById('nuevo_proyecto')">
      <i class="bi bi-plus-circle bi-dark"></i>
    </button>
  </h2>

  <div class="row">
    <div class="col-sm-4" *ngFor="let proyecto of proyectosList">
      <div class="card text-center my-2">
        <div class="card-body">
          <h5 class="card-title mb-3">{{proyecto.titulo}}
            <button class="btn p-1" *ngIf="autenticacionServicio.isLoggedIn()"
            (click)="mostrarById('edit_titulo_proyecto_' + proyecto.id)">
            <i class="bi bi-pencil"></i>
          </button>
          </h5>
          <div [id]="'edit_titulo_proyecto_' + proyecto.id" class="d-none">
            <p class="d-inline">Título: <input type="text" class="mx-2" #nuevo_titulo_proyecto
                (keyup.enter)="editData('proyecto', proyecto, rawDataProyecto, 'titulo', nuevo_titulo_proyecto.value, 'edit_titulo_proyecto_' + proyecto.id)">
            </p>
          </div>

          <h6>Finalización: {{proyecto.fecha_fin}}
            <button class="btn p-1" *ngIf="autenticacionServicio.isLoggedIn()"
            (click)="mostrarById('edit_fecha_fin_proyecto_' + proyecto.id)">
            <i class="bi bi-pencil"></i>
          </button>
          </h6>
          <div [id]="'edit_fecha_fin_proyecto_' + proyecto.id" class="d-none">
            <p class="d-inline">Fecha fin: <input type="text" class="m-2" placeholder="YYYY-MM-DD" #nuevo_fecha_fin_proyecto
                (keyup.enter)="editData('proyecto', proyecto, rawDataProyecto, 'fecha_fin', nuevo_fecha_fin_proyecto.value, 'edit_fecha_fin_proyecto_' + proyecto.id)">
            </p>
          </div>
          <br>

          <p class="card-text">{{proyecto.descripcion}}
            <button class="btn p-1" *ngIf="autenticacionServicio.isLoggedIn()"
            (click)="mostrarById('edit_descripcion_proyecto_' + proyecto.id)">
            <i class="bi bi-pencil"></i>
          </button>
          </p>
          <div [id]="'edit_descripcion_proyecto_' + proyecto.id" class="d-none">
            <p class="d-inline">Descripción: <input type="text" class="m-2" #nuevo_descripcion_proyecto
                (keyup.enter)="editData('proyecto', proyecto, rawDataProyecto, 'descripcion', nuevo_descripcion_proyecto.value, 'edit_descripcion_proyecto_' + proyecto.id)">
            </p>
          </div>
          <br>
          <a [href]="proyecto.url_proyecto" class="btn btn-outline-success">GitHub</a>
          <button class="btn p-1" *ngIf="autenticacionServicio.isLoggedIn()"
            (click)="mostrarById('edit_url_proyecto_' + proyecto.id)">
            <i class="bi bi-pencil"></i>
          </button>
          <br>
          <div [id]="'edit_url_proyecto_' + proyecto.id" class="d-none">
            <p class="d-inline">URL GitHub: <input type="text" class="m-2" #nuevo_url_proyecto
                (keyup.enter)="editData('proyecto', proyecto, rawDataProyecto, 'url_proyecto', nuevo_url_proyecto.value, 'edit_url_proyecto_' + proyecto.id)">
            </p>
          </div>
          <br>
          <button class="btn p-1" *ngIf="autenticacionServicio.isLoggedIn()" (click)="borrarProyecto(proyecto.id)">
            <i class="bi bi-trash"></i>
          </button>
        </div>
      </div>
    </div>
  </div>

  <div>

  </div>

  <div id="nuevo_proyecto" class="d-none">
    <h4 class="mt-3">Nuevo proyecto</h4>
    <div>
      <p class="d-inline">Título: <input type="text" class="m-2" #titulo_nuevo_proyecto
          (blur)="crearObjetoProyecto('titulo', titulo_nuevo_proyecto.value)">
      </p>
    </div>
    <div>
      <p class="d-inline">Fecha de fin: <input type="text" class="m-2" placeholder="YYYY-MM-DD" #fecha_fin_nuevo_proyecto
          (blur)="crearObjetoProyecto('fecha_fin', fecha_fin_nuevo_proyecto.value)">
      </p>
    </div>
    <div>
      <p class="d-inline">Descripción: <input type="text" class="m-2" #descripcion_nuevo_proyecto
          (blur)="crearObjetoProyecto('descripcion', descripcion_nuevo_proyecto.value)">
      </p>
    </div>
    <div>
      <p class="d-inline">Link GitHub: <input type="text" class="m-2" #url_nuevo_proyecto
          (blur)="crearObjetoProyecto('url_proyecto', url_nuevo_proyecto.value)">
      </p>
    </div>
    <button class="btn btn-outline-primary btn-sm mb-2" (click)="crearProyecto()">Submit</button>
  </div>

</div>